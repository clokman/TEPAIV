<!DOCTYPE html>
<html lang="en">
    <head>

        <meta charset="UTF-8">
        <title>SVG Bar Chart</title>

        <script type="text/javascript" src="d3.js"></script>

    </head>

    <body>

        <script type="text/javascript">

            var svgCanvasWidth =  800;
            var svgCanvasHeight =  100;
            var barPadding =  1;

            var dataset = [ 5, 10, 13, 19, 21, 25, 22, 18, 15, 13,
                11, 12, 15, 20, 18, 17, 16, 18, 23, 25 ];

            var svgCanvas =
                d3.select('body')
                    .append('svg')
                    .attr('width', svgCanvasWidth)
                    .attr('height', svgCanvasHeight);


            svgCanvas.selectAll('rect')
                    .data(dataset)
                    .enter()
                    .append('rect')
                    .attr('width', svgCanvasWidth / dataset.length - barPadding)
                    .attr('height', function (d) {
                        return d  * 4
                    })

                    // Distribute bars evenly on the SVG canvas
                    .attr('x', function (d, i) {
                        return i * (svgCanvasWidth/dataset.length);
                    })

                    .attr('y', function (d, i) {
                        return svgCanvasHeight- (d * 4) // invert coordinates
                    })

                    .attr('fill', function (d) {
                        return 'rgb(0, 0, ' + Math.round(d * 10) + ')'
                    });

            svgCanvas.selectAll('text')
                .data(dataset)
                .enter()
                .append('text')
                .text(function (d) {
                    return d
                })
                .attr('x', function (d, i) {
                    return i * (svgCanvasWidth/dataset.length) + (svgCanvasWidth/dataset.length - barPadding) / 2
                })
                .attr('y', function (d, i) {
                    return svgCanvasHeight - (d * 4) + 12
                })
                .attr('font-family', 'sans-serif')
                .attr('font-size', '11px')
                .attr('fill', 'white')
                .attr('text-anchor', 'middle')


        </script>

    </body>

</html>