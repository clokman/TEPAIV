<!DOCTYPE html>
<html lang="en">
    <head>

        <meta charset="UTF-8">
        <title>SVG Bar Chart</title>

        <script type="text/javascript" src="d3.js"></script>

    </head>

    <body>

        <script type="text/javascript">

            var svgCanvasWidth =  500;
            var svgCanvasHeight =  500;

            var dataset = [
                [5,     20],
                [480,   90],
                [250,   50],
                [100,   33],
                [330,   95],
                [410,   12],
                [475,   44],
                [25,    67],
                [85,    21],
                [220,   88]
            ];

            // Create canvas
            var svgCanvas = d3.select('body')
                              .append('svg')
                              .attr('width', svgCanvasWidth)
                              .attr('height', svgCanvasHeight)


            // Add circles
            svgCanvas.selectAll('circle')
                     .data(dataset)
                     .enter()
                     .append('circle')

                    // Problem: Because the SVG coordinates increase from the top of the screen to the bottom,
                    // when y values are mapped to y coordinates, the larger values appear at the bottom, and not at top
                     .attr('cx', function (d) {
                         return svgCanvasWidth - d[0];
                     })
                     .attr('cy', function (d) {
                         return svgCanvasHeight - d[1];
                     })


                     .attr('r', function (d) {
                         return Math.sqrt(d[1])  // 100 is an arbitrary value for inverting the d[1] values,
                                                 // ... so that the larger values appear larger in the vis.
                     });

            // Add labels
            svgCanvas.selectAll('text')
                     .data(dataset)
                     .enter()
                     .append('text')
                     .text(function (d) {
                         return d;
                     })
                     .attr('x', function (d) {
                         return svgCanvasWidth - d[0] ;
                     })
                     .attr('y', function (d) {
                         return svgCanvasHeight - d[1] ;
                     })
                     .attr('font-family', 'sans-serif')
                     .attr('fill', 'red');

        </script>

    </body>

</html>