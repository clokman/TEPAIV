<!DOCTYPE html>
<html lang="en">
    <head>

        <meta charset="UTF-8">
        <title>SVG Bar Chart</title>

        <script type="text/javascript" src="d3.js"></script>

    </head>

    <body>

        <script type="text/javascript">

            var svgCanvasWidth =  500;
            var svgCanvasHeight =  100;
            var barPadding =  1;

            var dataset = [ 5, 10, 13, 19, 21, 25, 22, 18, 15, 13,
                11, 12, 15, 20, 18, 17, 16, 18, 23, 25 ];

            var svgCanvas =
                d3.select('body')
                    .append('svg')
                    .attr('width', svgCanvasWidth)
                    .attr('height', svgCanvasHeight);

            var bars =
                svgCanvas
                    .selectAll('rect')
                    .data(dataset)
                    .enter()
                    .append('rect');

            bars
                .attr('width', svgCanvasWidth / dataset.length - barPadding)

                .attr('height', function (eachDatum) {
                    return eachDatum  * 4
                })

                // Distribute bars evenly on the SVG canvas
                .attr('x', function (eachDatum, i) {
                    return i * (svgCanvasWidth/dataset.length);
                })

                .attr('y', function (eachDatum, i) {
                    return svgCanvasHeight-eachDatum*4 // invert coordinates
                })

                .attr('fill', function (eachDatum) {
                    return 'rgb(0, 0, ' + Math.round(eachDatum * 10) + ')'
                });


        </script>

</body>
</html>